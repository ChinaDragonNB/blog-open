<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ak47007.mapper.TagMapper">
    <resultMap id="BaseResultMap" type="com.ak47007.model.Tag">
        <!--@mbg.generated-->
        <!--@Table `tags`-->
        <id column="tag_id" property="tagId"/>
        <result column="tag_name" property="tagName"/>
        <result column="tag_logo" property="tagLogo"/>
        <result column="tag_type" property="tagType"/>
        <result column="user_id" property="userId"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--@mbg.generated-->
        `tag_id`, `tag_name`, `tag_logo`, `tag_type`, `user_id`
    </sql>

    <!--auto generated by MybatisCodeHelper on 2019-09-25-->
    <select id="getCount" resultType="int">
        select count(1)
        from tags
        where user_id = #{userId}
    </select>
    <select id="tagColumn" resultType="com.ak47007.model.vo.main.TagColumnVO">
        SELECT tags.tag_name             AS 'name',
               count(article_tag.tag_id) AS 'y'
        FROM article_tag
                     LEFT JOIN tags ON tags.tag_id = article_tag.tag_id
        WHERE tags.user_id = #{userId}
        GROUP BY article_tag.tag_id
        ORDER BY y DESC
        LIMIT 10
    </select>
</mapper>